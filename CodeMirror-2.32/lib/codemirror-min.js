var CodeMirror=(function(){function v(aS,aO){var ce={},br=v.defaults;for(var aF in br){if(br.hasOwnProperty(aF)){ce[aF]=(aO&&aO.hasOwnProperty(aF)?aO:br)[aF]}}var aJ=document.createElement("div");aJ.className="CodeMirror"+(ce.lineWrapping?" CodeMirror-wrap":"");aJ.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';if(aS.appendChild){aS.appendChild(aJ)}else{aS(aJ)}var ca=aJ.firstChild,bu=ca.firstChild,bs=aJ.lastChild,bY=bs.firstChild,cu=bY.firstChild,aM=cu.firstChild,a4=aM.firstChild,bE=aM.nextSibling.firstChild,aA=bE.firstChild,bk=aA.nextSibling,bd=bk.nextSibling,bo=bd.nextSibling,av=bo.nextSibling,aR=ca.nextSibling,cA=aR.firstChild;cT();cL();if(t){bu.style.width="0px"}if(!g){bs.draggable=true}bE.style.outline="none";if(ce.tabindex!=null){bu.tabIndex=ce.tabindex}if(ce.autofocus){bM()}if(!ce.gutter&&!ce.lineNumbers){aM.style.display="none"}if(n){ca.style.height="1px",ca.style.position="absolute"}if(f){aR.className+=(bK()?" cm-sb-overlap":" cm-sb-nonoverlap")}else{if(D){aR.className+=" cm-sb-ie7"}}try{cI("x")}catch(cm){if(cm.message.match(/runtime/i)){cm=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw cm}var cl=new A(),aC=new A(),c6;var cp,cO=new j([new ak([new e("")])]),cv,cx;b6();var de={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var cw,bz,a6,bG=0,ch=0,bj,cC=false,cH=false;var cE,ck,aH,c4,aV,bn,aY,cQ;var bl=0,c7=0,bX=0,bZ=0;var cj;var bQ="",cU=false,by=true;var at={};aw(function(){a2(ce.value||"");cE=false})();var bg=new l();s(bs,"mousedown",aw(cy));s(bs,"dblclick",aw(b9));s(bE,"selectstart",W);if(!Q){s(bs,"contextmenu",a8)}s(bs,"scroll",bW);s(aR,"scroll",bW);s(aR,"mousedown",function(){if(cx){setTimeout(bM,0)}});s(bs,"mousewheel",aB);s(bs,"DOMMouseScroll",aB);s(window,"resize",function(){cr(true)});s(bu,"keyup",aw(cz));s(bu,"input",aW);s(bu,"keydown",aw(cq));s(bu,"keypress",aw(bv));s(bu,"focus",db);s(bu,"blur",aK);if(ce.dragDrop){s(bs,"dragstart",aN);function bP(dh){if(ce.onDragEvent&&ce.onDragEvent(cn,R(dh))){return}x(dh)}s(bs,"dragenter",bP);s(bs,"dragover",bP);s(bs,"drop",aw(aq))}s(bs,"paste",function(){bM();aW()});s(bu,"paste",aW);s(bu,"cut",aw(function(){if(!ce.readOnly){bB("")}}));if(n){s(bY,"mouseup",function(){if(document.activeElement==bu){bu.blur()}bM()})}var cM;try{cM=(document.activeElement==bu)}catch(cm){}if(cM||ce.autofocus){setTimeout(db,20)}else{aK()}function bA(dh){return dh>=0&&dh<cO.size}var cn=aJ.CodeMirror={getValue:cf,setValue:aw(a2),getSelection:cg,replaceSelection:aw(bB),focus:function(){window.focus();bM();db();aW()},setOption:function(di,dj){var dh=ce[di];ce[di]=dj;if(di=="mode"||di=="indentUnit"){b6()}else{if(di=="readOnly"&&dj=="nocursor"){aK();bu.blur()}else{if(di=="readOnly"&&!dj){cS(true)}else{if(di=="theme"){cT()}else{if(di=="lineWrapping"&&dh!=dj){aw(cX)()}else{if(di=="tabSize"){cr(true)}else{if(di=="keyMap"){cL()}}}}}}}if(di=="lineNumbers"||di=="gutter"||di=="firstLineNumber"||di=="theme"){bm();cr(true)}},getOption:function(dh){return ce[dh]},undo:aw(da),redo:aw(c0),indentLine:aw(function(di,dh){if(typeof dh!="string"){if(dh==null){dh=ce.smartIndent?"smart":"prev"}else{dh=dh?"add":"subtract"}}if(bA(di)){bL(di,dh)}}),indentSelection:aw(cR),historySize:function(){return{undo:bg.done.length,redo:bg.undone.length}},clearHistory:function(){bg=new l()},setHistory:function(dh){bg=new l();bg.done=dh.done;bg.undone=dh.undone},getHistory:function(){bg.time=0;return{done:bg.done.concat([]),undone:bg.undone.concat([])}},matchBrackets:aw(function(){cs(true)}),getTokenAt:aw(function(dh){dh=aZ(dh);return cW(dh.line).getTokenAt(cp,cJ(dh.line),dh.ch)}),getStateAfter:function(dh){dh=cc(dh==null?cO.size-1:dh);return cJ(dh+1)},cursorCoords:function(di,dh){if(di==null){di=de.inverted}return this.charCoords(di?de.from:de.to,dh)},charCoords:function(di,dh){di=aZ(di);if(dh=="local"){return c8(di,false)}if(dh=="div"){return c8(di,true)}return ar(di)},coordsChar:function(dh){var di=an(bE);return bT(dh.x-di.left,dh.y-di.top)},markText:aw(bR),setBookmark:a0,findMarksAt:bw,setMarker:aw(b8),clearMarker:aw(az),setLineClass:aw(bt),hideLine:aw(function(dh){return c1(dh,true)}),showLine:aw(function(dh){return c1(dh,false)}),onDeleteLine:function(dh,di){if(typeof dh=="number"){if(!bA(dh)){return null}dh=cW(dh)}(dh.handlers||(dh.handlers=[])).push(di);return dh},lineInfo:a1,addWidget:function(dl,dj,dn,dk,dq){dl=c8(aZ(dl));var dm=dl.yBot,di=dl.x;dj.style.position="absolute";bY.appendChild(dj);if(dk=="over"){dm=dl.y}else{if(dk=="near"){var dh=Math.max(bs.offsetHeight,cO.height*b1()),dp=Math.max(bY.clientWidth,bE.clientWidth)-bc();if(dl.yBot+dj.offsetHeight>dh&&dl.y>dj.offsetHeight){dm=dl.y-dj.offsetHeight}if(di+dj.offsetWidth>dp){di=dp-dj.offsetWidth}}}dj.style.top=(dm+cG())+"px";dj.style.left=dj.style.right="";if(dq=="right"){di=bY.clientWidth-dj.offsetWidth;dj.style.right="0px"}else{if(dq=="left"){di=0}else{if(dq=="middle"){di=(bY.clientWidth-dj.offsetWidth)/2}}dj.style.left=(di+bc())+"px"}if(dn){aG(di,dm,di+dj.offsetWidth,dm+dj.offsetHeight)}},lineCount:function(){return cO.size},clipPos:aZ,getCursor:function(dh){if(dh==null){dh=de.inverted}return ad(dh?de.from:de.to)},somethingSelected:function(){return !ag(de.from,de.to)},setCursor:aw(function(dh,dj,di){if(dj==null&&typeof dh.line=="number"){be(dh.line,dh.ch,di)}else{be(dh,dj,di)}}),setSelection:aw(function(dj,di,dh){(dh?bJ:bH)(aZ(dj),aZ(di||dj))}),getLine:function(dh){if(bA(dh)){return cW(dh).text}},getLineHandle:function(dh){if(bA(dh)){return cW(dh)}},setLine:aw(function(dh,di){if(bA(dh)){b2(di,{line:dh,ch:0},{line:dh,ch:cW(dh).text.length})}}),removeLine:aw(function(dh){if(bA(dh)){b2("",{line:dh,ch:0},aZ({line:dh+1,ch:0}))}}),replaceRange:aw(b2),getRange:function(dj,di,dh){return c5(aZ(dj),aZ(di),dh)},triggerOnKeyDown:aw(cq),execCommand:function(dh){return O[dh](cn)},moveH:aw(cV),deleteH:aw(cB),moveV:aw(cN),toggleOverwrite:function(){if(cC){cC=false;bk.className=bk.className.replace(" CodeMirror-overwrite","")}else{cC=true;bk.className+=" CodeMirror-overwrite"}},posFromIndex:function(di){var dj=0,dh;cO.iter(0,cO.size,function(dk){var dl=dk.text.length+1;if(dl>di){dh=di;return true}di-=dl;++dj});return aZ({line:dj,ch:dh})},indexFromPos:function(di){if(di.line<0||di.ch<0){return 0}var dh=di.ch;cO.iter(0,di.line,function(dj){dh+=dj.text.length+1});return dh},scrollTo:function(dh,di){if(dh!=null){bs.scrollLeft=dh}if(di!=null){aR.scrollTop=di}cr([])},getScrollInfo:function(){return{x:bs.scrollLeft,y:aR.scrollTop,height:aR.scrollHeight,width:bs.scrollWidth}},setSize:function(dj,dh){function di(dk){dk=String(dk);return/^\d+$/.test(dk)?dk+"px":dk}if(dj!=null){aJ.style.width=di(dj)}if(dh!=null){bs.style.height=di(dh)}},operation:function(dh){return aw(dh)()},compoundChange:function(dh){return b0(dh)},refresh:function(){cr(true,null,bG);if(aR.scrollHeight>bG){aR.scrollTop=bG}},getInputField:function(){return bu},getWrapperElement:function(){return aJ},getScrollerElement:function(){return bs},getGutterElement:function(){return aM}};function cW(dh){return E(cO,dh)}function ba(di,dh){aY=true;var dj=dh-di.height;for(var dk=di;dk;dk=dk.parent){dk.height+=dj}}function a2(dh){var di={line:0,ch:0};aU(di,{line:cO.size-1,ch:cW(cO.size-1).text.length},B(dh),di,di);cE=true}function cf(di){var dh=[];cO.iter(0,cO.size,function(dj){dh.push(dj.text)});return dh.join(di||"\n")}function bW(dh){if(bs.scrollTop){aR.scrollTop+=bs.scrollTop;bs.scrollTop=0}if(bG!=aR.scrollTop||ch!=bs.scrollLeft){bG=aR.scrollTop;ch=bs.scrollLeft;cr([]);if(ce.fixedGutter){aM.style.left=bs.scrollLeft+"px"}if(ce.onScroll){ce.onScroll(cn)}}}function cy(du){bb(z(du,"shiftKey"));for(var dp=k(du);dp!=aJ;dp=dp.parentNode){if(dp.parentNode==bY&&dp!=cu){return}}for(var dp=k(du);dp!=aJ;dp=dp.parentNode){if(dp.parentNode==a4){if(ce.onGutterClick){ce.onGutterClick(cn,r(a4.childNodes,dp)+c7,du)}return W(du)}}var di=a9(du);switch(y(du)){case 3:if(Q){a8(du)}return;case 2:if(di){be(di.line,di.ch,true)}setTimeout(bM,20);W(du);return}if(!di){if(k(du)==bs){W(du)}return}if(!cx){db()}var dj=+new Date,dx="single";if(a6&&a6.time>dj-400&&ag(a6.pos,di)){dx="triple";W(du);setTimeout(bM,20);aP(di.line)}else{if(bz&&bz.time>dj-400&&ag(bz.pos,di)){dx="double";a6={time:dj,pos:di};W(du);var dh=bD(di);bJ(dh.from,dh.to)}else{bz={time:dj,pos:di}}}var dy=di,dl;if(ce.dragDrop&&H&&!ce.readOnly&&!ag(de.from,de.to)&&!ac(di,de.from)&&!ac(de.to,di)&&dx=="single"){if(g){bs.draggable=true}function dn(dz){if(g){bs.draggable=false}bj=false;dt();dm();if(Math.abs(du.clientX-dz.clientX)+Math.abs(du.clientY-dz.clientY)<10){W(dz);be(di.line,di.ch,true);bM()}}var dt=s(document,"mouseup",aw(dn),true);var dm=s(bs,"drop",aw(dn),true);bj=true;if(bs.dragDrop){bs.dragDrop()}return}W(du);if(dx=="single"){be(di.line,di.ch,true)}var dw=de.from,dk=de.to;function dr(dA){if(dx=="single"){bJ(di,dA)}else{if(dx=="double"){var dz=bD(dA);if(ac(dA,dw)){bJ(dz.from,dk)}else{bJ(dw,dz.to)}}else{if(dx=="triple"){if(ac(dA,dw)){bJ(dk,aZ({line:dA.line,ch:0}))}else{bJ(dw,aZ({line:dA.line+1,ch:0}))}}}}}function dv(dz){var dB=a9(dz,true);if(dB&&!ag(dB,dy)){if(!cx){db()}dy=dB;dr(dB);cE=false;var dA=bN();if(dB.line>=dA.to||dB.line<dA.from){dl=setTimeout(aw(function(){dv(dz)}),150)}}}function ds(dz){clearTimeout(dl);var dA=a9(dz);if(dA){dr(dA)}W(dz);bM();cE=true;dq();dt()}var dq=s(document,"mousemove",aw(function(dz){clearTimeout(dl);W(dz);if(!K&&!y(dz)){ds(dz)}else{dv(dz)}}),true);var dt=s(document,"mouseup",aw(ds),true)}function b9(dh){for(var di=k(dh);di!=aJ;di=di.parentNode){if(di.parentNode==a4){return W(dh)}}W(dh)}function aq(dl){if(ce.onDragEvent&&ce.onDragEvent(cn,R(dl))){return}dl.preventDefault();var dp=a9(dl,true),di=dl.dataTransfer.files;if(!dp||ce.readOnly){return}if(di&&di.length&&window.FileReader&&window.File){function dk(ds,dr){var dq=new FileReader;dq.onload=function(){dm[dr]=dq.result;if(++dj==dn){dp=aZ(dp);aw(function(){var dt=b2(dm.join(""),dp,dp);bJ(dp,dt)})()}};dq.readAsText(ds)}var dn=di.length,dm=Array(dn),dj=0;for(var dh=0;dh<dn;++dh){dk(di[dh],dh)}}else{if(bj&&!(ac(dp,de.from)||ac(de.to,dp))){return}try{var dm=dl.dataTransfer.getData("Text");if(dm){b0(function(){var dr=de.from,dq=de.to;bJ(dp,dp);if(bj){b2("",dr,dq)}bB(dm);bM()})}}catch(dl){}}}function aN(dj){var dh=cg();dj.dataTransfer.setData("Text",dh);if(Q||ai||N){var di=document.createElement("img");di.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";dj.dataTransfer.setDragImage(di,0,0)}}function bq(dj,dh){if(typeof dj=="string"){dj=O[dj];if(!dj){return false}}var di=cw;try{if(ce.readOnly){cH=true}if(dh){cw=null}dj(cn)}catch(dk){if(dk!=ae){throw dk}return false}finally{cw=di;cH=false}return true}function c2(dn){var dh=c(ce.keyMap),dk=dh.auto;clearTimeout(bO);if(dk&&!T(dn)){bO=setTimeout(function(){if(c(ce.keyMap)==dh){ce.keyMap=(dk.call?dk.call(null,cn):dk)}},50)}var di=U[z(dn,"keyCode")],dm=false;if(di==null||dn.altGraphKey){return false}if(z(dn,"altKey")){di="Alt-"+di}if(z(dn,"ctrlKey")){di="Ctrl-"+di}if(z(dn,"metaKey")){di="Cmd-"+di}var dl=false;function dj(){dl=true}if(z(dn,"shiftKey")){dm=m("Shift-"+di,ce.extraKeys,ce.keyMap,function(dp){return bq(dp,true)},dj)||m(di,ce.extraKeys,ce.keyMap,function(dp){if(typeof dp=="string"&&/^go[A-Z]/.test(dp)){return bq(dp)}},dj)}else{dm=m(di,ce.extraKeys,ce.keyMap,bq,dj)}if(dl){dm=false}if(dm){W(dn);c3();if(K){dn.oldKeyCode=dn.keyCode;dn.keyCode=0}}return dm}function cb(dj,dh){var di=m("'"+dh+"'",ce.extraKeys,ce.keyMap,function(dk){return bq(dk,true)});if(di){W(dj);c3()}return di}var cZ=null,bO;function cq(dj){if(!cx){db()}if(K&&dj.keyCode==27){dj.returnValue=false}if(bC){if(bV()){bC=false}}if(ce.onKeyEvent&&ce.onKeyEvent(cn,R(dj))){return}var dh=z(dj,"keyCode");bb(dh==16||z(dj,"shiftKey"));var di=c2(dj);if(N){cZ=di?dh:null;if(!di&&dh==88&&z(dj,P?"metaKey":"ctrlKey")){bB("")}}}function bv(dk){if(bC){bV()}if(ce.onKeyEvent&&ce.onKeyEvent(cn,R(dk))){return}var dj=z(dk,"keyCode"),dh=z(dk,"charCode");if(N&&dj==cZ){cZ=null;W(dk);return}if(((N&&(!dk.which||dk.which<10))||n)&&c2(dk)){return}var di=String.fromCharCode(dh==null?dj:dh);if(ce.electricChars&&cp.electricChars&&ce.smartIndent&&!ce.readOnly){if(cp.electricChars.indexOf(di)>-1){setTimeout(aw(function(){bL(de.to.line,"smart")}),75)}}if(cb(dk,di)){return}aW()}function cz(dh){if(ce.onKeyEvent&&ce.onKeyEvent(cn,R(dh))){return}if(z(dh,"keyCode")==16){cw=null}}function db(){if(ce.readOnly=="nocursor"){return}if(!cx){if(ce.onFocus){ce.onFocus(cn)}cx=true;if(bs.className.search(/\bCodeMirror-focused\b/)==-1){bs.className+=" CodeMirror-focused"}if(!bn){cS(true)}}ap();c3()}function aK(){if(cx){if(ce.onBlur){ce.onBlur(cn)}cx=false;if(cj){aw(function(){if(cj){cj();cj=null}})()}bs.className=bs.className.replace(" CodeMirror-focused","")}clearInterval(c6);setTimeout(function(){if(!cx){cw=null}},150)}function dc(dh){if(dh>0&&dh<1){return 1}else{if(dh>-1&&dh<0){return -1}else{return Math.round(dh)}}}function aB(dk){var di=0,dh=0;if(dk.type=="DOMMouseScroll"){var dl=-dk.detail*8;if(dk.axis==dk.HORIZONTAL_AXIS){di=dl}else{if(dk.axis==dk.VERTICAL_AXIS){dh=dl}}}else{if(dk.wheelDeltaX!==undefined&&dk.wheelDeltaY!==undefined){di=dk.wheelDeltaX/3;dh=dk.wheelDeltaY/3}else{if(dk.wheelDelta!==undefined){dh=dk.wheelDelta/3}}}var dj=false;di=dc(di);dh=dc(dh);if((di>0&&bs.scrollLeft>0)||(di<0&&bs.scrollLeft+bs.clientWidth<bs.scrollWidth)){bs.scrollLeft-=di;dj=true}if((dh>0&&aR.scrollTop>0)||(dh<0&&aR.scrollTop+aR.clientHeight<aR.scrollHeight)){aR.scrollTop-=dh;dj=true}if(dj){x(dk)}}function aU(dm,dl,dk,di,dh){if(cH){return}if(bg){var dj=[];cO.iter(dm.line,dl.line+1,function(dn){dj.push(dn.text)});bg.addChange(dm.line,dk.length,dj);while(bg.done.length>ce.undoDepth){bg.done.shift()}}ax(dm,dl,dk,di,dh)}function co(dm,dn){if(!dm.length){return}var dp=dm.pop(),di=[];for(var dj=dp.length-1;dj>=0;dj-=1){var dl=dp[dj];var dq=[],dh=dl.start+dl.added;cO.iter(dl.start,dh,function(dr){dq.push(dr.text)});di.push({start:dl.start,added:dl.old.length,old:dq});var dk={line:dl.start+dl.old.length-1,ch:Z(dq[dq.length-1],dl.old[dl.old.length-1])};ax({line:dl.start,ch:0},{line:dh-1,ch:cW(dh-1).text.length},dl.old,dk,dk)}cE=true;dn.push(di)}function da(){co(bg.done,bg.undone)}function c0(){co(bg.undone,bg.done)}function ax(dx,dl,dD,dh,dE){if(cH){return}var dC=false,dk=bQ.length;if(!ce.lineWrapping){cO.iter(dx.line,dl.line+1,function(dF){if(!dF.hidden&&dF.text.length==dk){dC=true;return true}})}if(dx.line!=dl.line||dD.length>1){aY=true}var du=dl.line-dx.line,dt=cW(dx.line),di=cW(dl.line);if(dx.ch==0&&dl.ch==0&&dD[dD.length-1]==""){var dr=[],ds=null;if(dx.line){ds=cW(dx.line-1);ds.fixMarkEnds(di)}else{di.fixMarkStarts()}for(var dz=0,dB=dD.length-1;dz<dB;++dz){dr.push(e.inheritMarks(dD[dz],ds))}if(du){cO.remove(dx.line,du,cQ)}if(dr.length){cO.insert(dx.line,dr)}}else{if(dt==di){if(dD.length==1){dt.replace(dx.ch,dl.ch,dD[0])}else{di=dt.split(dl.ch,dD[dD.length-1]);dt.replace(dx.ch,null,dD[0]);dt.fixMarkEnds(di);var dr=[];for(var dz=1,dB=dD.length-1;dz<dB;++dz){dr.push(e.inheritMarks(dD[dz],dt))}dr.push(di);cO.insert(dx.line+1,dr)}}else{if(dD.length==1){dt.replace(dx.ch,null,dD[0]);di.replace(null,dl.ch,"");dt.append(di);cO.remove(dx.line+1,du,cQ)}else{var dr=[];dt.replace(dx.ch,null,dD[0]);di.replace(null,dl.ch,dD[dD.length-1]);dt.fixMarkEnds(di);for(var dz=1,dB=dD.length-1;dz<dB;++dz){dr.push(e.inheritMarks(dD[dz],dt))}if(du>1){cO.remove(dx.line+1,du-1,cQ)}cO.insert(dx.line+1,dr)}}}if(ce.lineWrapping){var dn=Math.max(5,bs.clientWidth/bp()-3);cO.iter(dx.line,dx.line+dD.length,function(dF){if(dF.hidden){return}var dG=Math.ceil(dF.text.length/dn)||1;if(dG!=dF.height){ba(dF,dG)}})}else{cO.iter(dx.line,dx.line+dD.length,function(dG){var dF=dG.text;if(!dG.hidden&&dF.length>dk){bQ=dF;dk=dF.length;by=true;dC=false}});if(dC){cU=true}}var dj=[],dq=dD.length-du-1;for(var dz=0,dw=cv.length;dz<dw;++dz){var dA=cv[dz];if(dA<dx.line){dj.push(dA)}else{if(dA>dl.line){dj.push(dA+dq)}}}var dy=dx.line+Math.min(dD.length,500);cY(dx.line,dy);dj.push(dy);cv=dj;bS(100);aH.push({from:dx.line,to:dl.line+1,diff:dq});var dp={from:dx,to:dl,text:dD};if(c4){for(var dm=c4;dm.next;dm=dm.next){}dm.next=dp}else{c4=dp}function dv(dF){return dF<=Math.min(dl.line,dl.line+dq)?dF:dF+dq}bH(aZ(dh),aZ(dE),dv(de.from.line),dv(de.to.line))}function au(){var dh=cO.height*b1()+2*cG();return dh-1>bs.offsetHeight?dh:false}function ay(di){var dh=au();aR.style.display=dh?"block":"none";if(dh){cA.style.height=dh+"px";aR.style.height=bs.offsetHeight+"px";if(di!=null){aR.scrollTop=di}}cu.style.top=(bl*b1()-aR.scrollTop)+"px"}function bK(){var dj=document.createElement("div"),di=document.createElement("div");dj.className="CodeMirror-scrollbar";dj.style.cssText="position: absolute; left: -9999px; height: 100px;";di.className="CodeMirror-scrollbar-inner";di.style.height="200px";dj.appendChild(di);document.body.appendChild(dj);var dh=(dj.offsetWidth<=1);document.body.removeChild(dj);return dh}function bI(){var dh=0;bQ="";by=true;cO.iter(0,cO.size,function(dj){var di=dj.text;if(!dj.hidden&&di.length>dh){dh=di.length;bQ=di}});cU=false}function b2(di,dl,dk){dl=aZ(dl);if(!dk){dk=dl}else{dk=aZ(dk)}di=B(di);function dj(dp){if(ac(dp,dl)){return dp}if(!ac(dk,dp)){return dh}var dm=dp.line+di.length-(dk.line-dl.line)-1;var dn=dp.ch;if(dp.line==dk.line){dn+=di[di.length-1].length-(dk.ch-(dk.line==dl.line?dl.ch:0))}return{line:dm,ch:dn}}var dh;aI(di,dl,dk,function(dm){dh=dm;return{from:dj(de.from),to:dj(de.to)}});return dh}function bB(dh,di){aI(B(dh),de.from,de.to,function(dj){if(di=="end"){return{from:dj,to:dj}}else{if(di=="start"){return{from:de.from,to:de.from}}else{return{from:de.from,to:dj}}}})}function aI(dk,dm,dl,dh){var dj=dk.length==1?dk[0].length+dm.ch:dk[dk.length-1].length;var di=dh({line:dm.line+dk.length-1,ch:dj});aU(dm,dl,dk,di.from,di.to)}function c5(dm,dl,dk){var di=dm.line,dh=dl.line;if(di==dh){return cW(di).text.slice(dm.ch,dl.ch)}var dj=[cW(di).text.slice(dm.ch)];cO.iter(di+1,dh,function(dn){dj.push(dn.text)});dj.push(cW(dh).text.slice(0,dl.ch));return dj.join(dk||"\n")}function cg(dh){return c5(de.from,de.to,dh)}var bC=false;function ap(){if(bC){return}cl.set(ce.pollInterval,function(){aT();bV();if(cx){ap()}aE()})}function aW(){var dh=false;bC=true;function di(){aT();var dj=bV();if(!dj&&!dh){dh=true;cl.set(60,di)}else{bC=false;ap()}aE()}cl.set(20,di)}var bi="";function bV(){if(bn||!cx||ah(bu)||ce.readOnly){return false}var di=bu.value;if(di==bi){return false}cw=null;var dj=0,dh=Math.min(bi.length,di.length);while(dj<dh&&bi[dj]==di[dj]){++dj}if(dj<bi.length){de.from={line:de.from.line,ch:de.from.ch-(bi.length-dj)}}else{if(cC&&ag(de.from,de.to)){de.to={line:de.to.line,ch:Math.min(cW(de.to.line).text.length,de.to.ch+(di.length-dj))}}}bB(di.slice(dj),"end");if(di.length>1000){bu.value=bi=""}else{bi=di}return true}function cS(dh){if(!ag(de.from,de.to)){bi="";bu.value=cg();a(bu)}else{if(dh){bi=bu.value=""}}}function bM(){if(ce.readOnly!="nocursor"){bu.focus()}}function dg(){var dh=bk.getBoundingClientRect();if(K&&dh.top==dh.bottom){return}var di=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(dh.top<0||dh.bottom>di){ct()}}function ct(){var dh=b3();return aG(dh.x,dh.y,dh.x,dh.yBot)}function b3(){var di=c8(de.inverted?de.from:de.to);var dh=ce.lineWrapping?Math.min(di.x,bE.offsetWidth):di.x;return{x:dh,y:di.y,yBot:di.yBot}}function aG(dj,dl,dh,dk){var dm=a5(dj,dl,dh,dk),di=false;if(dm.scrollLeft!=null){bs.scrollLeft=dm.scrollLeft;di=true}if(dm.scrollTop!=null){aR.scrollTop=dm.scrollTop;di=true}if(di&&ce.onScroll){ce.onScroll(cn)}}function a5(dk,ds,di,dr){var dn=bc(),dx=cG();ds+=dx;dr+=dx;dk+=dn;di+=dn;var du=bs.clientHeight,dl=aR.scrollTop,dw={};var dj=bs.scrollHeight;var dh=ds<dx+10,dq=dr+dx>dj-10;if(ds<dl){dw.scrollTop=dh?0:Math.max(0,ds)}else{if(dr>dl+du){dw.scrollTop=(dq?dj:dr)-du}}var dt=bs.clientWidth,dv=bs.scrollLeft;var dp=ce.fixedGutter?aM.clientWidth:0;var dm=dk<dp+dn+10;if(dk<dv+dp||dm){if(dm){dk=0}dw.scrollLeft=Math.max(0,dk-10-dp)}else{if(di>dt+dv-3){dw.scrollLeft=di+10-dt}}return dw}function bN(dl){var dh=b1(),dk=(dl!=null?dl:aR.scrollTop)-cG();var dj=Math.max(0,Math.floor(dk/dh));var di=Math.ceil((dk+bs.clientHeight)/dh);return{from:aa(cO,dj),to:aa(cO,di)}}function cr(ds,dm,dk){if(!bs.clientWidth){c7=bX=bl=0;return}var dl=bN(dk);if(ds!==true&&ds.length==0&&dl.from>c7&&dl.to<bX){ay(dk);return}var dt=Math.max(dl.from-100,0),du=Math.min(cO.size,dl.to+100);if(c7<dt&&dt-c7<20){dt=c7}if(bX>du&&bX-du<20){du=Math.min(cO.size,bX)}var dx=ds===true?[]:cd([{from:c7,to:bX,domStart:0}],ds);var dq=0;for(var dn=0;dn<dx.length;++dn){var dp=dx[dn];if(dp.from<dt){dp.domStart+=(dt-dp.from);dp.from=dt}if(dp.to>du){dp.to=du}if(dp.from>=dp.to){dx.splice(dn--,1)}else{dq+=dp.to-dp.from}}if(dq==du-dt&&dt==c7&&du==bX){ay(dk);return}dx.sort(function(dz,dy){return dz.domStart-dy.domStart});var dj=b1(),dh=aM.style.display;av.style.display="none";aX(dt,du,dx);av.style.display=aM.style.display="";var di=dt!=c7||du!=bX||bZ!=bs.clientHeight+dj;if(di){bZ=bs.clientHeight+dj}c7=dt;bX=du;bl=h(cO,dt);if(av.childNodes.length!=bX-c7){throw new Error("BAD PATCH! "+JSON.stringify(dx)+" size="+(bX-c7)+" nodes="+av.childNodes.length)}function dv(){var dz=av.firstChild,dy=false;cO.iter(c7,bX,function(dB){if(!dB.hidden){var dA=Math.round(dz.offsetHeight/dj)||1;if(dB.height!=dA){ba(dB,dA);aY=dy=true}}dz=dz.nextSibling});return dy}if(ce.lineWrapping){dv();var dw=au();var dr=dw?"block":"none";if(aR.style.display!=dr){aR.style.display=dr;if(dw){cA.style.height=dw+"px"}dv()}}aM.style.display=dh;if(di||aY){aQ()&&ce.lineWrapping&&dv()&&aQ()}ay(dk);dd();if(!dm&&ce.onUpdate){ce.onUpdate(cn)}return true}function cd(dr,dp){for(var dl=0,dj=dp.length||0;dl<dj;++dl){var dn=dp[dl],dh=[],dq=dn.diff||0;for(var dk=0,di=dr.length;dk<di;++dk){var dm=dr[dk];if(dn.to<=dm.from&&dn.diff){dh.push({from:dm.from+dq,to:dm.to+dq,domStart:dm.domStart})}else{if(dn.to<=dm.from||dn.from>=dm.to){dh.push(dm)}else{if(dn.from>dm.from){dh.push({from:dm.from,to:dn.from,domStart:dm.domStart})}if(dn.to<dm.to){dh.push({from:dn.to+dq,to:dm.to+dq,domStart:dm.domStart+(dn.to-dm.from)})}}}}dr=dh}return dr}function aX(dr,ds,du){if(!du.length){av.innerHTML=""}else{function dh(dw){var dv=dw.nextSibling;dw.parentNode.removeChild(dw);return dv}var dl=0,dj=av.firstChild,di;for(var dm=0;dm<du.length;++dm){var dt=du[dm];while(dt.domStart>dl){dj=dh(dj);dl++}for(var dk=0,dp=dt.to-dt.from;dk<dp;++dk){dj=dj.nextSibling;dl++}}while(dj){dj=dh(dj)}}var dn=du.shift(),dj=av.firstChild,dk=dr;var dq=document.createElement("div");cO.iter(dr,ds,function(dv){if(dn&&dn.to==dk){dn=du.shift()}if(!dn||dn.from>dk){if(dv.hidden){var dw=dq.innerHTML="<pre></pre>"}else{var dw="<pre"+(dv.className?' class="'+dv.className+'"':"")+">"+dv.getHTML(bh)+"</pre>";if(dv.bgClassName){dw='<div style="position: relative"><pre class="'+dv.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+dw+"</div>"}}dq.innerHTML=dw;av.insertBefore(dq.firstChild,dj)}else{dj=dj.nextSibling}++dk})}function aQ(){if(!ce.gutter&&!ce.lineNumbers){return}var di=cu.offsetHeight,dr=bs.clientHeight;aM.style.height=(di-dr<2?dr:di)+"px";var dp=[],dm=c7,dq;cO.iter(c7,Math.max(bX,c7+1),function(dt){if(dt.hidden){dp.push("<pre></pre>")}else{var ds=dt.gutterMarker;var dv=ce.lineNumbers?ce.lineNumberFormatter(dm+ce.firstLineNumber):null;if(ds&&ds.text){dv=ds.text.replace("%N%",dv!=null?dv:"")}else{if(dv==null){dv="\u00a0"}}dp.push((ds&&ds.style?'<pre class="'+ds.style+'">':"<pre>"),dv);for(var du=1;du<dt.height;++du){dp.push("<br/>&#160;")}dp.push("</pre>");if(!ds){dq=dm}}++dm});aM.style.display="none";a4.innerHTML=dp.join("");if(dq!=null&&ce.lineNumbers){var dk=a4.childNodes[dq-c7];var dl=String(cO.size).length,dh=J(dk.firstChild),dj="";while(dh.length+dj.length<dl){dj+="\u00a0"}if(dj){dk.insertBefore(document.createTextNode(dj),dk.firstChild)}}aM.style.display="";var dn=Math.abs((parseInt(bE.style.marginLeft)||0)-aM.offsetWidth)>2;bE.style.marginLeft=aM.offsetWidth+"px";aY=false;return dn}function dd(){var dk=ag(de.from,de.to);var dw=c8(de.from,true);var dr=dk?dw:c8(de.to,true);var dp=de.inverted?dw:dr,di=b1();var dh=an(aJ),dj=an(av);ca.style.top=Math.max(0,Math.min(bs.offsetHeight,dp.y+dj.top-dh.top))+"px";ca.style.left=Math.max(0,Math.min(bs.offsetWidth,dp.x+dj.left-dh.left))+"px";if(dk){bk.style.top=dp.y+"px";bk.style.left=(ce.lineWrapping?Math.min(dp.x,bE.offsetWidth):dp.x)+"px";bk.style.display="";bo.style.display="none"}else{var du=dw.y==dr.y,dm="";var ds=bE.clientWidth||bE.offsetWidth;var dn=bE.clientHeight||bE.offsetHeight;function dv(dB,dA,dz,dx){var dy=G?"width: "+(!dz?ds:ds-dz-dB)+"px":"right: "+dz+"px";dm+='<div class="CodeMirror-selected" style="position: absolute; left: '+dB+"px; top: "+dA+"px; "+dy+"; height: "+dx+'px"></div>'}if(de.from.ch&&dw.y>=0){var dt=du?ds-dr.x:0;dv(dw.x,dw.y,dt,di)}var dl=Math.max(0,dw.y+(de.from.ch?di:0));var dq=Math.min(dr.y,dn)-dl;if(dq>0.2*di){dv(0,dl,0,dq)}if((!du||!de.from.ch)&&dr.y<dn-0.5*di){dv(0,dr.y,ds-dr.x,di)}bo.innerHTML=dm;bk.style.display="none";bo.style.display=""}}function bb(dh){if(dh){cw=cw||(de.inverted?de.to:de.from)}else{cw=null}}function bJ(dj,di){var dh=cw&&aZ(cw);if(dh){if(ac(dh,dj)){dj=dh}else{if(ac(di,dh)){di=dh}}}bH(dj,di);ck=true}function bH(dp,dn,dh,dm){cK=null;if(dh==null){dh=de.from.line;dm=de.to.line}if(ag(de.from,dp)&&ag(de.to,dn)){return}if(ac(dn,dp)){var dk=dn;dn=dp;dp=dk}if(dp.line!=dh){var dl=b4(dp,dh,de.from.ch);if(!dl){c1(dp.line,false)}else{dp=dl}}if(dn.line!=dm){dn=b4(dn,dm,de.to.ch)}if(ag(dp,dn)){de.inverted=false}else{if(ag(dp,de.to)){de.inverted=false}else{if(ag(dn,de.from)){de.inverted=true}}}if(ce.autoClearEmptyLines&&ag(de.from,de.to)){var dj=de.inverted?dp:dn;if(dj.line!=de.from.line&&de.from.line<cO.size){var di=cW(de.from.line);if(/^\s+$/.test(di.text)){setTimeout(aw(function(){if(di.parent&&/^\s+$/.test(di.text)){var dq=ab(di);b2("",{line:dq,ch:0},{line:dq,ch:di.text.length})}},10))}}}de.from=dp;de.to=dn;aV=true}function b4(dm,di,dj){function dl(dq){var ds=dm.line+dq,dp=dq==1?cO.size:-1;while(ds!=dp){var dn=cW(ds);if(!dn.hidden){var dr=dm.ch;if(dk||dr>dj||dr>dn.text.length){dr=dn.text.length}return{line:ds,ch:dr}}ds+=dq}}var dh=cW(dm.line);var dk=dm.ch==dh.text.length&&dm.ch!=dj;if(!dh.hidden){return dm}if(dm.line>=di){return dl(1)||dl(-1)}else{return dl(-1)||dl(1)}}function be(dh,dj,di){var dk=aZ({line:dh,ch:dj||0});(di?bJ:bH)(dk,dk)}function cc(dh){return Math.max(0,Math.min(dh,cO.size-1))}function aZ(dj){if(dj.line<0){return{line:0,ch:0}}if(dj.line>=cO.size){return{line:cO.size-1,ch:cW(cO.size-1).text.length}}var dh=dj.ch,di=cW(dj.line).text.length;if(dh==null||dh>di){return{line:dj.line,ch:di}}else{if(dh<0){return{line:dj.line,ch:0}}else{return dj}}}function cD(dk,dp){var dl=de.inverted?de.from:de.to,dq=dl.line,dh=dl.ch;var dn=cW(dq);function di(){for(var dr=dq+dk,dt=dk<0?-1:cO.size;dr!=dt;dr+=dk){var ds=cW(dr);if(!ds.hidden){dq=dr;dn=ds;return true}}}function dm(dr){if(dh==(dk<0?0:dn.text.length)){if(!dr&&di()){dh=dk<0?dn.text.length:0}else{return false}}else{dh+=dk}return true}if(dp=="char"){dm()}else{if(dp=="column"){dm(true)}else{if(dp=="word"){var dj=false;for(;;){if(dk<0){if(!dm()){break}}if(aj(dn.text.charAt(dh))){dj=true}else{if(dj){if(dk<0){dk=1;dm()}break}}if(dk>0){if(!dm()){break}}}}}}return{line:dq,ch:dh}}function cV(dh,di){var dj=dh<0?de.from:de.to;if(cw||ag(de.from,de.to)){dj=cD(dh,di)}be(dj.line,dj.ch,true)}function cB(dh,di){if(!ag(de.from,de.to)){b2("",de.from,de.to)}else{if(dh<0){b2("",cD(dh,di),de.to)}else{b2("",de.from,cD(dh,di))}}ck=true}var cK=null;function cN(dh,di){var dk=0,dl=c8(de.inverted?de.from:de.to,true);if(cK!=null){dl.x=cK}if(di=="page"){dk=Math.min(bs.clientHeight,window.innerHeight||document.documentElement.clientHeight)}else{if(di=="line"){dk=b1()}}var dj=bT(dl.x,dl.y+dk*dh+2);if(di=="page"){aR.scrollTop+=c8(dj,true).y-dl.y}be(dj.line,dj.ch,true);cK=dl.x}function bD(dl){var dj=cW(dl.line).text;var dk=dl.ch,di=dl.ch;var dh=aj(dj.charAt(dk<dj.length?dk:dk-1))?aj:function(dm){return !aj(dm)};while(dk>0&&dh(dj.charAt(dk-1))){--dk}while(di<dj.length&&dh(dj.charAt(di))){++di}return{from:{line:dl.line,ch:dk},to:{line:dl.line,ch:di}}}function aP(dh){bJ({line:dh,ch:0},aZ({line:dh+1,ch:0}))}function cR(dj){if(ag(de.from,de.to)){return bL(de.from.line,dj)}var di=de.to.line-(de.to.ch?0:1);for(var dh=de.from.line;dh<=di;++dh){bL(dh,dj)}}function bL(dj,dr){if(!dr){dr="add"}if(dr=="smart"){if(!cp.indent){dr="prev"}else{var dh=cJ(dj)}}var ds=cW(dj),dl=ds.indentation(ce.tabSize),di=ds.text.match(/^\s*/)[0],dn;if(dr=="smart"){dn=cp.indent(dh,ds.text.slice(di.length),ds.text);if(dn==ae){dr="prev"}}if(dr=="prev"){if(dj){dn=cW(dj-1).indentation(ce.tabSize)}else{dn=0}}else{if(dr=="add"){dn=dl+ce.indentUnit}else{if(dr=="subtract"){dn=dl-ce.indentUnit}}}dn=Math.max(0,dn);var dq=dn-dl;var dp="",dm=0;if(ce.indentWithTabs){for(var dk=Math.floor(dn/ce.tabSize);dk;--dk){dm+=ce.tabSize;dp+="\t"}}while(dm<dn){++dm;dp+=" "}b2(dp,{line:dj,ch:0},{line:dj,ch:di.length})}function b6(){cp=v.getMode(ce,ce.mode);cO.iter(0,cO.size,function(dh){dh.stateAfter=null});cv=[0];bS()}function bm(){var dh=ce.gutter||ce.lineNumbers;aM.style.display=dh?"":"none";if(dh){aY=true}else{av.parentNode.style.marginLeft=0}}function cX(dj,di){if(ce.lineWrapping){aJ.className+=" CodeMirror-wrap";var dh=bs.clientWidth/bp()-3;cO.iter(0,cO.size,function(dk){if(dk.hidden){return}var dl=Math.ceil(dk.text.length/dh)||1;if(dl!=1){ba(dk,dl)}});bE.style.width=bY.style.width="";bd.style.left=""}else{aJ.className=aJ.className.replace(" CodeMirror-wrap","");bQ="";by=true;cO.iter(0,cO.size,function(dk){if(dk.height!=1&&!dk.hidden){ba(dk,1)}if(dk.text.length>bQ.length){bQ=dk.text}})}aH.push({from:0,to:cO.size})}function bh(di){var dh=ce.tabSize-di%ce.tabSize,dk=at[dh];if(dk){return dk}for(var dl='<span class="cm-tab">',dj=0;dj<dh;++dj){dl+=" "}return(at[dh]={html:dl+"</span>",width:dh})}function cT(){bs.className=bs.className.replace(/\s*cm-s-\S+/g,"")+ce.theme.replace(/(^|\s)\s*/g," cm-s-")}function cL(){var dh=w[ce.keyMap].style;aJ.className=aJ.className.replace(/\s*cm-keymap-\S+/g,"")+(dh?" cm-keymap-"+dh:"")}function df(){this.set=[]}df.prototype.clear=aw(function(){var dm=Infinity,di=-Infinity;for(var dl=0,dp=this.set.length;dl<dp;++dl){var dj=this.set[dl],dh=dj.marked;if(!dh||!dj.parent){continue}var dn=ab(dj);dm=Math.min(dm,dn);di=Math.max(di,dn);for(var dk=0;dk<dh.length;++dk){if(dh[dk].marker==this){dh.splice(dk--,1)}}}if(dm!=Infinity){aH.push({from:dm,to:di+1})}});df.prototype.find=function(){var dm,dn;for(var dj=0,dl=this.set.length;dj<dl;++dj){var dq=this.set[dj],dk=dq.marked;for(var di=0;di<dk.length;++di){var dh=dk[di];if(dh.marker==this){if(dh.from!=null||dh.to!=null){var dp=ab(dq);if(dp!=null){if(dh.from!=null){dm={line:dp,ch:dh.from}}if(dh.to!=null){dn={line:dp,ch:dh.to}}}}}}}return{from:dm,to:dn}};function bR(dn,dm,dj){dn=aZ(dn);dm=aZ(dm);var dh=new df();if(!ac(dn,dm)){return dh}function dl(dp,ds,dr,dq){cW(dp).addMark(new M(ds,dr,dq,dh))}if(dn.line==dm.line){dl(dn.line,dn.ch,dm.ch,dj)}else{dl(dn.line,dn.ch,null,dj);for(var di=dn.line+1,dk=dm.line;di<dk;++di){dl(di,null,null,dj)}dl(dm.line,null,dm.ch,dj)}aH.push({from:dn.line,to:dm.line+1});return dh}function a0(di){di=aZ(di);var dh=new I(di.ch);cW(di.line).addMark(dh);return dh}function bw(dm){dm=aZ(dm);var dl=[],dj=cW(dm.line).marked;if(!dj){return dl}for(var di=0,dk=dj.length;di<dk;++di){var dh=dj[di];if((dh.from==null||dh.from<=dm.ch)&&(dh.to==null||dh.to>=dm.ch)){dl.push(dh.marker||dh)}}return dl}function b8(dh,dj,di){if(typeof dh=="number"){dh=cW(cc(dh))}dh.gutterMarker={text:dj,style:di};aY=true;return dh}function az(dh){if(typeof dh=="number"){dh=cW(cc(dh))}dh.gutterMarker=null;aY=true}function a3(di,dk){var dj=di,dh=di;if(typeof di=="number"){dh=cW(cc(di))}else{dj=ab(di)}if(dj==null){return null}if(dk(dh,dj)){aH.push({from:dj,to:dj+1})}else{return null}return dh}function bt(di,dh,dj){return a3(di,function(dk){if(dk.className!=dh||dk.bgClassName!=dj){dk.className=dh;dk.bgClassName=dj;return true}})}function c1(di,dh){return a3(di,function(dk,dn){if(dk.hidden!=dh){dk.hidden=dh;if(!ce.lineWrapping){var dj=dk.text;if(dh&&dj.length==bQ.length){cU=true}else{if(!dh&&dj.length>bQ.length){bQ=dj;cU=false}}}ba(dk,dh?0:1);var dm=de.from.line,dl=de.to.line;if(dh&&(dm==dn||dl==dn)){var dq=dm==dn?b4({line:dm,ch:0},dm,0):de.from;var dp=dl==dn?b4({line:dl,ch:0},dl,0):de.to;if(!dp){return}bH(dq,dp)}return(aY=true)}})}function a1(di){if(typeof di=="number"){if(!bA(di)){return null}var dj=di;di=cW(di);if(!di){return null}}else{var dj=ab(di);if(dj==null){return null}}var dh=di.gutterMarker;return{line:dj,handle:di,text:di.text,markerText:dh&&dh.text,markerClass:dh&&dh.style,lineClass:di.className,bgClass:di.bgClassName}}function cI(dh){aA.innerHTML="<pre><span>x</span></pre>";aA.firstChild.firstChild.firstChild.nodeValue=dh;return aA.firstChild.firstChild.offsetWidth||10}function aL(du,dn){if(dn<=0){return 0}var dk=cW(du),dr=dk.text;function ds(dv){return ci(dk,dv).left}var dp=0,dm=0,dq=dr.length,dl;var di=Math.min(dq,Math.ceil(dn/bp()));for(;;){var dj=ds(di);if(dj<=dn&&di<dq){di=Math.min(dq,Math.ceil(di*1.2))}else{dl=dj;dq=di;break}}if(dn>dl){return dq}di=Math.floor(dq*0.8);dj=ds(di);if(dj<dn){dp=di;dm=dj}for(;;){if(dq-dp<=1){return(dl-dn>dn-dm)?dp:dq}var dt=Math.ceil((dp+dq)/2),dh=ds(dt);if(dh>dn){dq=dt;dl=dh}else{dp=dt;dm=dh}}}var cP="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16);function ci(di,dl){if(dl==0){return{top:0,left:0}}var dh=ce.lineWrapping&&dl<di.text.length&&p.test(di.text.slice(dl-1,dl+1));aA.innerHTML="<pre>"+di.getHTML(bh,dl,cP,dh)+"</pre>";var dk=document.getElementById(cP);var dn=dk.offsetTop,dm=dk.offsetLeft;if(K&&dn==0&&dm==0){var dj=document.createElement("span");dj.innerHTML="x";dk.parentNode.insertBefore(dj,dk.nextSibling);dn=dj.offsetTop}return{top:dn,left:dm}}function c8(dm,dk){var dh,di=b1(),dl=di*(h(cO,dm.line)-(dk?bl:0));if(dm.ch==0){dh=0}else{var dj=ci(cW(dm.line),dm.ch);dh=dj.left;if(ce.lineWrapping){dl+=Math.max(0,dj.top)}}return{x:dh,y:dl,yBot:dl+di}}function bT(dr,dq){if(dq<0){dq=0}var dn=b1(),dl=bp(),dx=bl+Math.floor(dq/dn);var ds=aa(cO,dx);if(ds>=cO.size){return{line:cO.size-1,ch:cW(cO.size-1).text.length}}var di=cW(ds),du=di.text;var dz=ce.lineWrapping,dp=dz?dx-h(cO,ds):0;if(dr<=0&&dp==0){return{line:ds,ch:0}}function dy(dB){var dC=ci(di,dB);if(dz){var dD=Math.round(dC.top/dn);return Math.max(0,dC.left+(dD-dp)*bs.clientWidth)}return dC.left}var dw=0,dv=0,dj=du.length,dh;var dt=Math.min(dj,Math.ceil((dr+dp*bs.clientWidth*0.9)/dl));for(;;){var dm=dy(dt);if(dm<=dr&&dt<dj){dt=Math.min(dj,Math.ceil(dt*1.2))}else{dh=dm;dj=dt;break}}if(dr>dh){return{line:ds,ch:dj}}dt=Math.floor(dj*0.8);dm=dy(dt);if(dm<dr){dw=dt;dv=dm}for(;;){if(dj-dw<=1){return{line:ds,ch:(dh-dr>dr-dv)?dw:dj}}var dA=Math.ceil((dw+dj)/2),dk=dy(dA);if(dk>dr){dj=dA;dh=dk}else{dw=dA;dv=dk}}}function ar(dj){var dh=c8(dj,true),di=an(bE);return{x:di.left+dh.x,y:di.top+dh.y,yBot:di.top+dh.yBot}}var a7,aD,b7;function b1(){if(b7==null){b7="<pre>";for(var di=0;di<49;++di){b7+="x<br/>"}b7+="x</pre>"}var dh=av.clientHeight;if(dh==aD){return a7}aD=dh;aA.innerHTML=b7;a7=aA.firstChild.offsetHeight/50||1;aA.innerHTML="";return a7}var c9,bF=0;function bp(){if(bs.clientWidth==bF){return c9}bF=bs.clientWidth;return(c9=cI("x"))}function cG(){return bE.offsetTop}function bc(){return bE.offsetLeft}function a9(dl,dk){var dj=an(bs,true),dh,dm;try{dh=dl.clientX;dm=dl.clientY}catch(dl){return null}if(!dk&&(dh-dj.left>bs.clientWidth||dm-dj.top>bs.clientHeight)){return null}var di=an(bE,true);return bT(dh-di.left,dm-di.top)}function a8(di){var dn=a9(di),dm=aR.scrollTop;if(!dn||N){return}if(ag(de.from,de.to)||ac(dn,de.from)||!ac(dn,de.to)){aw(be)(dn.line,dn.ch)}var dl=bu.style.cssText;ca.style.position="absolute";bu.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(di.clientY-5)+"px; left: "+(di.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bn=true;var dk=bu.value=cg();bM();a(bu);function dh(){var dp=B(bu.value).join("\n");if(dp!=dk&&!ce.readOnly){aw(bB)(dp,"end")}ca.style.position="relative";bu.style.cssText=dl;if(C){aR.scrollTop=dm}bn=false;cS(true);ap()}if(Q){x(di);var dj=s(window,"mouseup",function(){dj();setTimeout(dh,20)},true)}else{setTimeout(dh,50)}}function c3(){clearInterval(c6);var dh=true;bk.style.visibility="";c6=setInterval(function(){bk.style.visibility=(dh=!dh)?"":"hidden"},650)}var bx={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function cs(dn){var dh=de.inverted?de.from:de.to,dq=cW(dh.line),di=dh.ch-1;var dm=(di>=0&&bx[dq.text.charAt(di)])||bx[dq.text.charAt(++di)];if(!dm){return}var dr=dm.charAt(0),dp=dm.charAt(1)==">",dB=dp?1:-1,dw=dq.styles;for(var dC=di+1,dy=0,dA=dw.length;dy<dA;dy+=2){if((dC-=dw[dy].length)<=0){var dz=dw[dy+1];break}}var dk=[dq.text.charAt(di)],dv=/[(){}[\]]/;function dt(dO,dJ,dK){if(!dO.text){return}var dN=dO.styles,dI=dp?0:dO.text.length-1,dL;for(var dF=dp?0:dN.length-2,dH=dp?dN.length:-2;dF!=dH;dF+=2*dB){var dM=dN[dF];if(dN[dF+1]!=dz){dI+=dB*dM.length;continue}for(var dE=dp?0:dM.length-1,dD=dp?dM.length:-1;dE!=dD;dE+=dB,dI+=dB){if(dI>=dJ&&dI<dK&&dv.test(dL=dM.charAt(dE))){var dG=bx[dL];if(dG.charAt(1)==">"==dp){dk.push(dL)}else{if(dk.pop()!=dG.charAt(0)){return{pos:dI,match:false}}else{if(!dk.length){return{pos:dI,match:true}}}}}}}}for(var dy=dh.line,dA=dp?Math.min(dy+100,cO.size):Math.max(-1,dy-100);dy!=dA;dy+=dB){var dq=cW(dy),dl=dy==dh.line;var ds=dt(dq,dl&&dp?di+1:0,dl&&!dp?di:dq.text.length);if(ds){break}}if(!ds){ds={pos:null,match:false}}var dz=ds.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var dx=bR({line:dh.line,ch:di},{line:dh.line,ch:di+1},dz),dj=ds.pos!=null&&bR({line:dy,ch:ds.pos},{line:dy,ch:ds.pos+1},dz);var du=aw(function(){dx.clear();dj&&dj.clear()});if(dn){setTimeout(du,800)}else{cj=du}}function bf(dn){var dm,dj;for(var di=dn,dk=dn-40;di>dk;--di){if(di==0){return 0}var dh=cW(di-1);if(dh.stateAfter){return di}var dl=dh.indentation(ce.tabSize);if(dj==null||dm>dl){dj=di-1;dm=dl}}return dj}function cJ(dj){var di=bf(dj),dh=di&&cW(di-1).stateAfter;if(!dh){dh=Y(cp)}else{dh=q(cp,dh)}cO.iter(di,dj,function(dk){dk.highlight(cp,dh,ce.tabSize);dk.stateAfter=q(cp,dh)});if(di<dj){aH.push({from:di,to:dj})}if(dj<cO.size&&!cW(dj).stateAfter){cv.push(dj)}return dh}function cY(dj,dh){var di=cJ(dj);cO.iter(dj,dh,function(dk){dk.highlight(cp,di,ce.tabSize);dk.stateAfter=q(cp,di)})}function b5(){var dn=+new Date+ce.workTime;var dr=cv.length;while(cv.length){if(!cW(c7).stateAfter){var dk=c7}else{var dk=cv.pop()}if(dk>=cO.size){continue}var di=bf(dk),dh=di&&cW(di-1).stateAfter;if(dh){dh=q(cp,dh)}else{dh=Y(cp)}var dm=0,dj=cp.compareStates,dq=false,dp=di,dl=false;cO.iter(dp,cO.size,function(dt){var du=dt.stateAfter;if(+new Date>dn){cv.push(dp);bS(ce.workDelay);if(dq){aH.push({from:dk,to:dp+1})}return(dl=true)}var dv=dt.highlight(cp,dh,ce.tabSize);if(dv){dq=true}dt.stateAfter=q(cp,dh);var ds=null;if(dj){var dw=du&&dj(du,dh);if(dw!=ae){ds=!!dw}}if(ds==null){if(dv!==false||!du){dm=0}else{if(++dm>3&&(!cp.indent||cp.indent(du,"")==cp.indent(dh,""))){ds=true}}}if(ds){return true}++dp});if(dl){return}if(dq){aH.push({from:dk,to:dp+1})}}if(dr&&ce.onHighlightComplete){ce.onHighlightComplete(cn)}}function bS(dh){if(!cv.length){return}aC.set(dh,aw(b5))}function aT(){cE=ck=c4=null;aH=[];aV=false;cQ=[]}function aE(){if(cU){bI()}if(by&&!ce.lineWrapping){var dh=bd.offsetWidth,dn=cI(bQ);bd.style.left=dn+"px";bE.style.minWidth=(dn+dh)+"px";by=false}var dl,di;if(aV){var dm=b3();dl=a5(dm.x,dm.y,dm.x,dm.yBot)}if(aH.length){di=cr(aH,true,(dl?dl.scrollTop:null))}else{if(aV){dd()}if(aY){aQ()}}if(dl){ct()}if(aV){dg();c3()}if(cx&&!bn&&(cE===true||(cE!==false&&aV))){cS(ck)}if(aV&&ce.matchBrackets){setTimeout(aw(function(){if(cj){cj();cj=null}if(ag(de.from,de.to)){cs(false)}}),20)}var dp=aV,dj=cQ;if(c4&&ce.onChange&&cn){ce.onChange(cn,c4)}if(dp&&ce.onCursorActivity){ce.onCursorActivity(cn)}for(var dk=0;dk<dj.length;++dk){dj[dk](cn)}if(di&&ce.onUpdate){ce.onUpdate(cn)}}var cF=0;function aw(dh){return function(){if(!cF++){aT()}try{var di=dh.apply(this,arguments)}finally{if(!--cF){aE()}}return di}}function b0(dh){bg.startCompound();try{return dh()}finally{bg.endCompound()}}for(var bU in af){if(af.propertyIsEnumerable(bU)&&!cn.propertyIsEnumerable(bU)){cn[bU]=af[bU]}}return cn}v.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(ap){return ap}};var t=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var P=t||/Mac/.test(navigator.platform);var X=/Win/.test(navigator.platform);var am=v.modes={},V=v.mimeModes={};v.defineMode=function(ap,ar){if(!v.defaults.mode&&ap!="null"){v.defaults.mode=ap}if(arguments.length>2){ar.dependencies=[];for(var aq=2;aq<arguments.length;++aq){ar.dependencies.push(arguments[aq])}}am[ap]=ar};v.defineMIME=function(aq,ap){V[aq]=ap};v.resolveMode=function(ap){if(typeof ap=="string"&&V.hasOwnProperty(ap)){ap=V[ap]}else{if(typeof ap=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ap)){return v.resolveMode("application/xml")}}if(typeof ap=="string"){return{name:ap}}else{return ap||{name:"null"}}};v.getMode=function(aq,ap){var ap=v.resolveMode(ap);var ar=am[ap.name];if(!ar){return v.getMode(aq,"text/plain")}return ar(aq,ap)};v.listModes=function(){var aq=[];for(var ap in am){if(am.propertyIsEnumerable(ap)){aq.push(ap)}}return aq};v.listMIMEs=function(){var aq=[];for(var ap in V){if(V.propertyIsEnumerable(ap)){aq.push({mime:ap,mode:V[ap]})}}return aq};var af=v.extensions={};v.defineExtension=function(ap,aq){af[ap]=aq};var O=v.commands={selectAll:function(ap){ap.setSelection({line:0,ch:0},{line:ap.lineCount()-1})},killLine:function(ap){var at=ap.getCursor(true),ar=ap.getCursor(false),aq=!ag(at,ar);if(!aq&&ap.getLine(at.line).length==at.ch){ap.replaceRange("",at,{line:at.line+1,ch:0})}else{ap.replaceRange("",at,aq?ar:{line:at.line})}},deleteLine:function(ap){var aq=ap.getCursor().line;ap.replaceRange("",{line:aq,ch:0},{line:aq})},undo:function(ap){ap.undo()},redo:function(ap){ap.redo()},goDocStart:function(ap){ap.setCursor(0,0,true)},goDocEnd:function(ap){ap.setSelection({line:ap.lineCount()-1},null,true)},goLineStart:function(ap){ap.setCursor(ap.getCursor().line,0,true)},goLineStartSmart:function(ap){var at=ap.getCursor();var ar=ap.getLine(at.line),aq=Math.max(0,ar.search(/\S/));ap.setCursor(at.line,at.ch<=aq&&at.ch?0:aq,true)},goLineEnd:function(ap){ap.setSelection({line:ap.getCursor().line},null,true)},goLineUp:function(ap){ap.moveV(-1,"line")},goLineDown:function(ap){ap.moveV(1,"line")},goPageUp:function(ap){ap.moveV(-1,"page")},goPageDown:function(ap){ap.moveV(1,"page")},goCharLeft:function(ap){ap.moveH(-1,"char")},goCharRight:function(ap){ap.moveH(1,"char")},goColumnLeft:function(ap){ap.moveH(-1,"column")},goColumnRight:function(ap){ap.moveH(1,"column")},goWordLeft:function(ap){ap.moveH(-1,"word")},goWordRight:function(ap){ap.moveH(1,"word")},delCharLeft:function(ap){ap.deleteH(-1,"char")},delCharRight:function(ap){ap.deleteH(1,"char")},delWordLeft:function(ap){ap.deleteH(-1,"word")},delWordRight:function(ap){ap.deleteH(1,"word")},indentAuto:function(ap){ap.indentSelection("smart")},indentMore:function(ap){ap.indentSelection("add")},indentLess:function(ap){ap.indentSelection("subtract")},insertTab:function(ap){ap.replaceSelection("\t","end")},defaultTab:function(ap){if(ap.somethingSelected()){ap.indentSelection("add")}else{ap.replaceSelection("\t","end")}},transposeChars:function(ap){var ar=ap.getCursor(),aq=ap.getLine(ar.line);if(ar.ch>0&&ar.ch<aq.length-1){ap.replaceRange(aq.charAt(ar.ch)+aq.charAt(ar.ch-1),{line:ar.line,ch:ar.ch-1},{line:ar.line,ch:ar.ch+1})}},newlineAndIndent:function(ap){ap.replaceSelection("\n","end");ap.indentLine(ap.getCursor().line)},toggleOverwrite:function(ap){ap.toggleOverwrite()}};var w=v.keyMap={};w.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};w.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};w.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};w["default"]=P?w.macDefault:w.pcDefault;w.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function c(ap){if(typeof ap=="string"){return w[ap]}else{return ap}}function m(aq,ap,av,at,ar){function au(aA){aA=c(aA);var ay=aA[aq];if(ay!=null&&at(ay)){return true}if(aA.nofallthrough){if(ar){ar()}return true}var ax=aA.fallthrough;if(ax==null){return false}if(Object.prototype.toString.call(ax)!="[object Array]"){return au(ax)}for(var aw=0,az=ax.length;aw<az;++aw){if(au(ax[aw])){return true}}return false}if(ap&&au(ap)){return true}return au(av)}function T(aq){var ap=U[z(aq,"keyCode")];return ap=="Ctrl"||ap=="Alt"||ap=="Shift"||ap=="Mod"}v.fromTextArea=function(aq,at){if(!at){at={}}at.value=aq.value;if(!at.tabindex&&aq.tabindex){at.tabindex=aq.tabindex}if(at.autofocus==null&&aq.getAttribute("autofocus")!=null){at.autofocus=true}function av(){aq.value=ap.getValue()}if(aq.form){var au=s(aq.form,"submit",av,true);if(typeof aq.form.submit=="function"){var ar=aq.form.submit;function aw(){av();aq.form.submit=ar;aq.form.submit();aq.form.submit=aw}aq.form.submit=aw}}aq.style.display="none";var ap=v(function(ax){aq.parentNode.insertBefore(ax,aq.nextSibling)},at);ap.save=av;ap.getTextArea=function(){return aq};ap.toTextArea=function(){av();aq.parentNode.removeChild(ap.getWrapperElement());aq.style.display="";if(aq.form){au();if(typeof aq.form.submit=="function"){aq.form.submit=ar}}};return ap};function q(at,ap){if(ap===true){return ap}if(at.copyState){return at.copyState(ap)}var ar={};for(var au in ap){var aq=ap[au];if(aq instanceof Array){aq=aq.concat([])}ar[au]=aq}return ar}v.copyState=q;function Y(ar,aq,ap){return ar.startState?ar.startState(aq,ap):true}v.startState=Y;function b(ap,aq){this.pos=this.start=0;this.string=ap;this.tabSize=aq||8}b.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ap){var ar=this.string.charAt(this.pos);if(typeof ap=="string"){var aq=ar==ap}else{var aq=ar&&(ap.test?ap.test(ar):ap(ar))}if(aq){++this.pos;return ar}},eatWhile:function(ap){var aq=this.pos;while(this.eat(ap)){}return this.pos>aq},eatSpace:function(){var ap=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ap},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ap){var aq=this.string.indexOf(ap,this.pos);if(aq>-1){this.pos=aq;return true}},backUp:function(ap){this.pos-=ap},column:function(){return o(this.string,this.start,this.tabSize)},indentation:function(){return o(this.string,null,this.tabSize)},match:function(at,aq,ap){if(typeof at=="string"){function au(av){return ap?av.toLowerCase():av}if(au(this.string).indexOf(au(at),this.pos)==this.pos){if(aq!==false){this.pos+=at.length}return true}}else{var ar=this.string.slice(this.pos).match(at);if(ar&&aq!==false){this.pos+=ar[0].length}return ar}},current:function(){return this.string.slice(this.start,this.pos)}};v.StringStream=b;function M(at,ar,aq,ap){this.from=at;this.to=ar;this.style=aq;this.marker=ap}M.prototype={attach:function(ap){this.marker.set.push(ap)},detach:function(aq){var ap=r(this.marker.set,aq);if(ap>-1){this.marker.set.splice(ap,1)}},split:function(at,ap){if(this.to<=at&&this.to!=null){return null}var ar=this.from<at||this.from==null?null:this.from-at+ap;var aq=this.to==null?null:this.to-at+ap;return new M(ar,aq,this.style,this.marker)},dup:function(){return new M(null,null,this.style,this.marker)},clipTo:function(aq,au,ap,at,ar){if(aq&&at>this.from&&(at<this.to||this.to==null)){this.from=null}else{if(this.from!=null&&this.from>=au){this.from=Math.max(at,this.from)+ar}}if(ap&&(au<this.to||this.to==null)&&(au>this.from||this.from==null)){this.to=null}else{if(this.to!=null&&this.to>au){this.to=at<this.to?this.to+ar:au}}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(ap){return this.marker==ap.marker}};function I(ap){this.from=ap;this.to=ap;this.line=null}I.prototype={attach:function(ap){this.line=ap},detach:function(ap){if(this.line==ap){this.line=null}},split:function(aq,ap){if(aq<this.from){this.from=this.to=(this.from-aq)+ap;return this}},isDead:function(){return this.from>this.to},clipTo:function(aq,au,ap,at,ar){if((aq||au<this.from)&&(ap||at>this.to)){this.from=0;this.to=-1}else{if(this.from>au){this.from=this.to=Math.max(at,this.from)+ar}}},sameSet:function(ap){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:ab(this.line),ch:this.from}},clear:function(){if(this.line){var ap=r(this.line.marked,this);if(ap!=-1){this.line.marked.splice(ap,1)}this.line=null}}};function e(aq,ap){this.styles=ap||[aq,null];this.text=aq;this.height=1;this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}e.inheritMarks=function(au,ax){var at=new e(au),ap=ax&&ax.marked;if(ap){for(var ar=0;ar<ap.length;++ar){if(ap[ar].to==null&&ap[ar].style){var aq=at.marked||(at.marked=[]),aw=ap[ar];var av=aw.dup();aq.push(av);av.attach(at)}}}return at};e.prototype={replace:function(au,at,ax){var ay=[],ar=this.marked,av=at==null?this.text.length:at;ao(0,au,this.styles,ay);if(ax){ay.push(ax,null)}ao(av,this.text.length,this.styles,ay);this.styles=ay;this.text=this.text.slice(0,au)+ax+this.text.slice(av);this.stateAfter=null;if(ar){var aw=ax.length-(av-au);for(var aq=0;aq<ar.length;++aq){var ap=ar[aq];ap.clipTo(au==null,au||0,at==null,av,aw);if(ap.isDead()){ap.detach(this);ar.splice(aq--,1)}}}},split:function(ax,av){var at=[av,null],aq=this.marked;ao(ax,this.text.length,this.styles,at);var ar=new e(av+this.text.slice(ax),at);if(aq){for(var au=0;au<aq.length;++au){var aw=aq[au];var ap=aw.split(ax,av.length);if(ap){if(!ar.marked){ar.marked=[]}ar.marked.push(ap);ap.attach(ar);if(ap==aw){aq.splice(au--,1)}}}}return ar},append:function(aq){var aw=this.text.length,ap=aq.marked,au=this.marked;this.text+=aq.text;ao(0,aq.text.length,aq.styles,this.styles);if(au){for(var av=0;av<au.length;++av){if(au[av].to==null){au[av].to=aw}}}if(ap&&ap.length){if(!au){this.marked=au=[]}outer:for(var av=0;av<ap.length;++av){var ax=ap[av];if(!ax.from){for(var at=0;at<au.length;++at){var ar=au[at];if(ar.to==aw&&ar.sameSet(ax)){ar.to=ax.to==null?null:ax.to+aw;if(ar.isDead()){ar.detach(this);ap.splice(av--,1)}continue outer}}}au.push(ax);ax.attach(this);ax.from+=aw;if(ax.to!=null){ax.to+=aw}}}},fixMarkEnds:function(aq){var ap=this.marked,av=aq.marked;if(!ap){return}outer:for(var au=0;au<ap.length;++au){var ax=ap[au],aw=ax.to==null;if(aw&&av){for(var at=0;at<av.length;++at){var ar=av[at];if(!ar.sameSet(ax)||ar.from!=null){continue}if(ax.from==this.text.length&&ar.to==0){av.splice(at,1);ap.splice(au--,1);continue outer}else{aw=false;break}}}if(aw){ax.to=this.text.length}}},fixMarkStarts:function(){var ap=this.marked;if(!ap){return}for(var aq=0;aq<ap.length;++aq){if(ap[aq].from==null){ap[aq].from=0}}},addMark:function(ap){ap.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(ap);this.marked.sort(function(ar,aq){return(ar.from||0)-(aq.from||0)})},highlight:function(av,aq,aw){var az=new b(this.text,aw),aA=this.styles,ax=0;var au=false,ar=aA[0],ay;if(this.text==""&&av.blankLine){av.blankLine(aq)}while(!az.eol()){var ap=av.token(az,aq);var at=this.text.slice(az.start,az.pos);az.start=az.pos;if(ax&&aA[ax-1]==ap){aA[ax-2]+=at}else{if(at){if(!au&&(aA[ax+1]!=ap||(ax&&aA[ax-2]!=ay))){au=true}aA[ax++]=at;aA[ax++]=ap;ay=ar;ar=aA[ax]}}if(az.pos>5000){aA[ax++]=this.text.slice(az.pos);aA[ax++]=null;break}}if(aA.length!=ax){aA.length=ax;au=true}if(ax&&aA[ax-2]!=ay){au=true}return au||(aA.length<5&&this.text.length<10?null:false)},getTokenAt:function(av,at,ar){var ap=this.text,au=new b(ap);while(au.pos<ar&&!au.eol()){au.start=au.pos;var aq=av.token(au,at)}return{start:au.start,end:au.pos,string:au.current(),className:aq||null,state:at}},indentation:function(ap){return o(this.text,null,ap)},getHTML:function(aP,ap,ar,au){var aA=[],ay=true,aw=0;function aL(a1,aZ){if(!a1){return}if(ay&&K&&a1.charAt(0)==" "){a1="\u00a0"+a1.slice(1)}ay=false;if(a1.indexOf("\t")==-1){aw+=a1.length;var a0=S(a1)}else{var a0="";for(var a2=0;;){var aX=a1.indexOf("\t",a2);if(aX==-1){a0+=S(a1.slice(a2));aw+=a1.length-a2;break}else{aw+=aX-a2;var aY=aP(aw);a0+=S(a1.slice(a2,aX))+aY.html;aw+=aY.width;a2=aX+1}}}if(aZ){aA.push('<span class="',aZ,'">',a0,"</span>")}else{aA.push(a0)}}var aO=aL;if(ap!=null){var aJ=0,aE='<span id="'+ar+'">';aO=function(a0,aY){var aX=a0.length;if(ap>=aJ&&ap<aJ+aX){if(ap>aJ){aL(a0.slice(0,ap-aJ),aY);if(au){aA.push("<wbr>")}}aA.push(aE);var aZ=ap-aJ;aL(N?a0.slice(aZ,aZ+1):a0.slice(aZ),aY);aA.push("</span>");if(N){aL(a0.slice(aZ+1),aY)}ap--;aJ+=aX}else{aJ+=aX;aL(a0,aY);if(aJ==ap&&aJ==aT){aA.push(aE+(Q||(K&&!D)?"&#x200b;":" ")+"</span>")}else{if(aJ>ap+10&&/\s/.test(a0)){aO=function(){}}}}}}var aI=this.styles,az=this.text,aF=this.marked;var aT=az.length;function av(aX){if(!aX){return null}return"cm-"+aX.replace(/ +/g," cm-")}if(!az&&ap==null){aO(" ")}else{if(!aF||!aF.length){for(var aQ=0,aB=0;aB<aT;aQ+=2){var aH=aI[aQ],aS=aI[aQ+1],aK=aH.length;if(aB+aK>aT){aH=aH.slice(0,aT-aB)}aB+=aK;aO(aH,av(aS))}}else{var ax=0,aQ=0,aD="",aS,aW=0;var aV=aF[0].from||0,aN=[],aU=0;function aR(){var aX;while(aU<aF.length&&((aX=aF[aU]).from==ax||aX.from==null)){if(aX.style!=null){aN.push(aX)}++aU}aV=aU<aF.length?aF[aU].from:Infinity;for(var aY=0;aY<aN.length;++aY){var aZ=aN[aY].to;if(aZ==null){aZ=Infinity}if(aZ==ax){aN.splice(aY--,1)}else{aV=Math.min(aZ,aV)}}}var aG=0;while(ax<aT){if(aV==ax){aR()}var aC=Math.min(aT,aV);while(true){if(aD){var at=ax+aD.length;var aq=aS;for(var aM=0;aM<aN.length;++aM){aq=(aq?aq+" ":"")+aN[aM].style}aO(at>aC?aD.slice(0,aC-ax):aD,aq);if(at>=aC){aD=aD.slice(aC-ax);ax=aC;break}ax=at}aD=aI[aQ++];aS=av(aI[aQ++])}}}}return aA.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var ap=0,aq=this.marked.length;ap<aq;++ap){this.marked[ap].detach(this)}}}};function ao(aw,ax,ap,ay){for(var au=0,av=0,aq=0;av<ax;au+=2){var ar=ap[au],at=av+ar.length;if(aq==0){if(at>aw){ay.push(ar.slice(aw-av,Math.min(ar.length,ax-av)),ap[au+1])}if(at>=aw){aq=1}}else{if(aq==1){if(at>ax){ay.push(ar.slice(0,ax-av),ap[au+1])}else{ay.push(ar,ap[au+1])}}}av=at}}function ak(aq){this.lines=aq;this.parent=null;for(var ar=0,at=aq.length,ap=0;ar<at;++ar){aq[ar].parent=this;ap+=aq[ar].height}this.height=ap}ak.prototype={chunkSize:function(){return this.lines.length},remove:function(ap,ax,av){for(var au=ap,aw=ap+ax;au<aw;++au){var aq=this.lines[au];this.height-=aq.height;aq.cleanUp();if(aq.handlers){for(var ar=0;ar<aq.handlers.length;++ar){av.push(aq.handlers[ar])}}}this.lines.splice(ap,ax)},collapse:function(ap){ap.splice.apply(ap,[ap.length,0].concat(this.lines))},insertHeight:function(aq,ar,ap){this.height+=ap;this.lines=this.lines.slice(0,aq).concat(ar).concat(this.lines.slice(aq));for(var au=0,av=ar.length;au<av;++au){ar[au].parent=this}},iterN:function(ap,au,ar){for(var aq=ap+au;ap<aq;++ap){if(ar(this.lines[ap])){return true}}}};function j(at){this.children=at;var ar=0,ap=0;for(var aq=0,av=at.length;aq<av;++aq){var au=at[aq];ar+=au.chunkSize();ap+=au.height;au.parent=this}this.size=ar;this.height=ap;this.parent=null}j.prototype={chunkSize:function(){return this.size},remove:function(ar,aq,aw){this.size-=aq;for(var au=0;au<this.children.length;++au){var ap=this.children[au],ax=ap.chunkSize();if(ar<ax){var av=Math.min(aq,ax-ar),ay=ap.height;ap.remove(ar,av,aw);this.height-=ay-ap.height;if(ax==av){this.children.splice(au--,1);ap.parent=null}if((aq-=av)==0){break}ar=0}else{ar-=ax}}if(this.size-aq<25){var az=[];this.collapse(az);this.children=[new ak(az)];this.children[0].parent=this}},collapse:function(ap){for(var aq=0,ar=this.children.length;aq<ar;++aq){this.children[aq].collapse(ap)}},insert:function(aq,ar){var ap=0;for(var au=0,av=ar.length;au<av;++au){ap+=ar[au].height}this.insertHeight(aq,ar,ap)},insertHeight:function(aq,az,ay){this.size+=az.length;this.height+=ay;for(var ar=0,av=this.children.length;ar<av;++ar){var ap=this.children[ar],aw=ap.chunkSize();if(aq<=aw){ap.insertHeight(aq,az,ay);if(ap.lines&&ap.lines.length>50){while(ap.lines.length>50){var au=ap.lines.splice(ap.lines.length-25,25);var ax=new ak(au);ap.height-=ax.height;this.children.splice(ar+1,0,ax);ax.parent=this}this.maybeSpill()}break}aq-=aw}},maybeSpill:function(){if(this.children.length<=10){return}var at=this;do{var aq=at.children.splice(at.children.length-5,5);var ar=new j(aq);if(!at.parent){var au=new j(at.children);au.parent=at;at.children=[au,ar];at=au}else{at.size-=ar.size;at.height-=ar.height;var ap=r(at.parent.children,at);at.parent.children.splice(ap+1,0,ar)}ar.parent=at.parent}while(at.children.length>10);at.parent.maybeSpill()},iter:function(ar,aq,ap){this.iterN(ar,aq-ar,ap)},iterN:function(ap,ay,ax){for(var aq=0,av=this.children.length;aq<av;++aq){var aw=this.children[aq],au=aw.chunkSize();if(ap<au){var ar=Math.min(ay,au-ap);if(aw.iterN(ap,ar,ax)){return true}if((ay-=ar)==0){break}ap=0}else{ap-=au}}}};function E(ap,au){while(!ap.lines){for(var aq=0;;++aq){var at=ap.children[aq],ar=at.chunkSize();if(au<ar){ap=at;break}au-=ar}}return ap.lines[au]}function ab(ap){if(ap.parent==null){return null}var av=ap.parent,au=r(av.lines,ap);for(var aq=av.parent;aq;av=aq,aq=aq.parent){for(var ar=0,at=aq.children.length;;++ar){if(aq.children[ar]==av){break}au+=aq.children[ar].chunkSize()}}return au}function aa(aw,au){var ar=0;outer:do{for(var at=0,av=aw.children.length;at<av;++at){var aq=aw.children[at],ap=aq.height;if(au<ap){aw=aq;continue outer}au-=ap;ar+=aq.chunkSize()}return ar}while(!aw.lines);for(var at=0,av=aw.lines.length;at<av;++at){var ay=aw.lines[at],ax=ay.height;if(au<ax){break}au-=ax}return ar+at}function h(ap,aw){var ar=0;outer:do{for(var aq=0,au=ap.children.length;aq<au;++aq){var av=ap.children[aq],at=av.chunkSize();if(aw<at){ap=av;continue outer}aw-=at;ar+=av.height}return ar}while(!ap.lines);for(var aq=0;aq<aw;++aq){ar+=ap.lines[aq].height}return ar}function l(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}l.prototype={addChange:function(ap,av,aq){this.undone.length=0;var ar=+new Date,ax=this.done[this.done.length-1],ay=ax&&ax[ax.length-1];var au=ar-this.time;if(this.compound&&ax&&!this.closed){ax.push({start:ap,added:av,old:aq})}else{if(au>400||!ay||this.closed||ay.start>ap+aq.length||ay.start+ay.added<ap){this.done.push([{start:ap,added:av,old:aq}]);this.closed=false}else{var aw=Math.max(0,ay.start-ap),az=Math.max(0,(ap+aq.length)-(ay.start+ay.added));for(var at=aw;at>0;--at){ay.old.unshift(aq[at-1])}for(var at=az;at>0;--at){ay.old.push(aq[aq.length-at])}if(aw){ay.start=ap}ay.added+=av-(aq.length-aw-az)}}this.time=ar},startCompound:function(){if(!this.compound++){this.closed=true}},endCompound:function(){if(!--this.compound){this.closed=true}}};function L(){x(this)}function R(ap){if(!ap.stop){ap.stop=L}return ap}function W(ap){if(ap.preventDefault){ap.preventDefault()}else{ap.returnValue=false}}function F(ap){if(ap.stopPropagation){ap.stopPropagation()}else{ap.cancelBubble=true}}function x(ap){W(ap);F(ap)}v.e_stop=x;v.e_preventDefault=W;v.e_stopPropagation=F;function k(ap){return ap.target||ap.srcElement}function y(aq){var ap=aq.which;if(ap==null){if(aq.button&1){ap=1}else{if(aq.button&2){ap=3}else{if(aq.button&4){ap=2}}}}if(P&&aq.ctrlKey&&ap==1){ap=3}return ap}function z(aq,ar){var ap=aq.override&&aq.override.hasOwnProperty(ar);return ap?aq.override[ar]:aq[ar]}function s(at,ar,aq,ap){if(typeof at.addEventListener=="function"){at.addEventListener(ar,aq,false);if(ap){return function(){at.removeEventListener(ar,aq,false)}}}else{var au=function(av){aq(av||window.event)};at.attachEvent("on"+ar,au);if(ap){return function(){at.detachEvent("on"+ar,au)}}}}v.connect=s;function A(){this.id=null}A.prototype={set:function(ap,aq){clearTimeout(this.id);this.id=setTimeout(aq,ap)}};var ae=v.Pass={toString:function(){return"CodeMirror.Pass"}};var Q=/gecko\/\d{7}/i.test(navigator.userAgent);var K=/MSIE \d/.test(navigator.userAgent);var D=/MSIE [1-7]\b/.test(navigator.userAgent);var C=/MSIE [1-8]\b/.test(navigator.userAgent);var G=K&&document.documentMode==5;var g=/WebKit\//.test(navigator.userAgent);var ai=/Chrome\//.test(navigator.userAgent);var N=/Opera\//.test(navigator.userAgent);var i=/Apple Computer/.test(navigator.vendor);var n=/KHTML\//.test(navigator.userAgent);var f=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);var H=function(){if(C){return false}var ap=document.createElement("div");return"draggable" in ap||"dragDrop" in ap}();var d=function(){var ap=document.createElement("textarea");ap.value="foo\nbar";if(ap.value.indexOf("\r")>-1){return"\r\n"}return"\n"}();var p=/^$/;if(Q){p=/$'/}else{if(i){p=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(ai){p=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/}}}function o(aq,ap,at){if(ap==null){ap=aq.search(/[^\s\u00a0]/);if(ap==-1){ap=aq.length}}for(var ar=0,au=0;ar<ap;++ar){if(aq.charAt(ar)=="\t"){au+=at-(au%at)}else{++au}}return au}function u(ap){if(ap.currentStyle){return ap.currentStyle}return window.getComputedStyle(ap,null)}function an(at,ap){try{var ar=at.getBoundingClientRect();ar={top:ar.top,left:ar.left}}catch(au){ar={top:0,left:0}}if(!ap){if(window.pageYOffset==null){var aq=document.documentElement||document.body.parentNode;if(aq.scrollTop==null){aq=document.body}ar.top+=aq.scrollTop;ar.left+=aq.scrollLeft}else{ar.top+=window.pageYOffset;ar.left+=window.pageXOffset}}return ar}function J(ap){return ap.textContent||ap.innerText||ap.nodeValue||""}function a(ap){if(t){ap.selectionStart=0;ap.selectionEnd=ap.value.length}else{ap.select()}}function ag(aq,ap){return aq.line==ap.line&&aq.ch==ap.ch}function ac(aq,ap){return aq.line<ap.line||(aq.line==ap.line&&aq.ch<ap.ch)}function ad(ap){return{line:ap.line,ch:ap.ch}}var al=document.createElement("pre");function S(ap){al.textContent=ap;return al.innerHTML}if(S("a")=="\na"){S=function(ap){al.textContent=ap;return al.innerHTML.slice(1)}}else{if(S("\t")!="\t"){S=function(ap){al.innerHTML="";al.appendChild(document.createTextNode(ap));return al.innerHTML}}}v.htmlEscape=S;function Z(at,ar){if(!ar){return 0}if(!at){return ar.length}for(var aq=at.length,ap=ar.length;aq>=0&&ap>=0;--aq,--ap){if(at.charAt(aq)!=ar.charAt(ap)){break}}return ap+1}function r(at,ap){if(at.indexOf){return at.indexOf(ap)}for(var aq=0,ar=at.length;aq<ar;++aq){if(at[aq]==ap){return aq}}return -1}function aj(ap){return/\w/.test(ap)||ap.toUpperCase()!=ap.toLowerCase()}var B="\n\nb".split(/\n/).length!=3?function(av){var aw=0,ap=[],au=av.length;while(aw<=au){var at=av.indexOf("\n",aw);if(at==-1){at=av.length}var ar=av.slice(aw,av.charAt(at-1)=="\r"?at-1:at);var aq=ar.indexOf("\r");if(aq!=-1){ap.push(ar.slice(0,aq));aw+=aq+1}else{ap.push(ar);aw=at+1}}return ap}:function(ap){return ap.split(/\r\n?|\n/)};v.splitLines=B;var ah=window.getSelection?function(aq){try{return aq.selectionStart!=aq.selectionEnd}catch(ap){return false}}:function(ar){try{var ap=ar.ownerDocument.selection.createRange()}catch(aq){}if(!ap||ap.parentElement()!=ar){return false}return ap.compareEndPoints("StartToEnd",ap)!=0};v.defineMode("null",function(){return{token:function(ap){ap.skipToEnd()}}});v.defineMIME("text/plain","null");var U={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};v.keyNames=U;(function(){for(var ap=0;ap<10;ap++){U[ap+48]=String(ap)}for(var ap=65;ap<=90;ap++){U[ap]=String.fromCharCode(ap)}for(var ap=1;ap<=12;ap++){U[ap+111]=U[ap+63235]="F"+ap}})();return v})();